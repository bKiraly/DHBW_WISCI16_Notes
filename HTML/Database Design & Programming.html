<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Database Design & -Programming</title>
<link rel="stylesheet" href="https://stackedit.io/res-min/themes/base.css" />
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body><div class="container"><h1 id="database-design-programming">Database Design &amp; -Programming</h1>

<blockquote>
  <p><strong>Disclaimer</strong> <br>
  These are notes created for my personal use. They mostly cover the contents of the lectures. I take no responsibility for the correctness of anything stated in the contents, although I strive for making them as accurate as possible. If you find any factual or formal mistakes in these notes, please don’t hesitate to contact me at <a href="mailto:kiraly.bence.1025@gmail.com">kiraly.bence.1025@gmail.com</a>.</p>
</blockquote>



<h2 id="table-of-contents">Table of Contents</h2>

<p><div class="toc">
<ul>
<li><a href="#database-design-programming">Database Design &amp; -Programming</a><ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#database-design">Database Design</a><ul>
<li><a href="#conceptual-design">Conceptual Design</a></li>
<li><a href="#logical-design">Logical Design</a></li>
<li><a href="#physical-design">Physical Design</a><ul>
<li><a href="#keys">Keys</a></li>
<li><a href="#attributes">Attributes</a></li>
<li><a href="#referential-integrity">Referential integrity</a></li>
<li><a href="#relationships">Relationships</a></li>
</ul>
</li>
<li><a href="#normal-forms">Normal Forms</a><ul>
<li><a href="#1-normal-form">1. Normal form</a></li>
<li><a href="#2-normal-form">2. Normal form</a></li>
<li><a href="#3-normal-form">3. Normal form</a></li>
<li><a href="#boyce-codd-normal-form">Boyce-Codd Normal form</a></li>
</ul>
</li>
<li><a href="#parts-of-a-database-package">Parts of a database package</a></li>
</ul>
</li>
<li><a href="#database-programming">Database Programming</a><ul>
<li><a href="#sql">SQL</a></li>
<li><a href="#extended-backus-naur-from">Extended Backus-Naur-From</a><ul>
<li><a href="#data-definition">Data definition</a></li>
<li><a href="#indexes">Indexes</a></li>
<li><a href="#joining-tables">Joining tables</a></li>
</ul>
</li>
<li><a href="#administration">Administration</a></li>
<li><a href="#data-structures">Data Structures</a></li>
<li><a href="#performance-tuning">Performance Tuning</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</p>



<h2 id="introduction">Introduction</h2>

<p>Recommended book: Information Modeling and Relational Databases by Terry Halpin <br>
Relational databases - Based on Set theory <br>
Hierarchical databases <br>
Blockchain <br>
NoSQL</p>

<p>A database is the backend of every computing system. <br>
Persistent data storage for large amounts of data with simple access points <br>
Data is much harder to recreate than hardware or software <br>
Database applications are the ‘active’ part of DB systems</p>

<p>History of database systems:</p>

<ul>
<li>File system <br>
<ul><li>Limited linkage and integrity management</li>
<li>Limited access control</li></ul></li>
<li>Excel files <br>
<ul><li>Better linkage and integrity</li>
<li>Problems with data inconsistency</li>
<li>Security concerns</li>
<li>No centralized mechanism to replicate data across multiple systems</li></ul></li>
<li>Relational Databases <br>
<ul><li>Database language <br>
<ul><li>Structured Query Language (SQL)</li>
<li>De-facto standard</li>
<li>Different dialects</li></ul></li>
<li>DBMS <br>
<ul><li>Database management system</li>
<li>Logically accesses data</li>
<li>Different from the database itself</li>
<li>Companies are different</li>
<li>Different SQL dialects</li></ul></li>
<li>Database structure <br>
<ul><li>Responsibility of the database architect</li>
<li>Logical structure</li></ul></li></ul></li>
</ul>

<p>Roles of database users</p>

<ul>
<li>Database administration <br>
<ul><li>Installation, configuration, maintenance, upgrade</li>
<li>Administration</li>
<li>Monitoring and optimization</li>
<li>Backup and restore</li></ul></li>
<li>Database architect <br>
<ul><li>Design and optimize databases</li>
<li>Structures data logically</li></ul></li>
<li>Application developer <br>
<ul><li>Implements business process based on data from database</li></ul></li>
</ul>

<p>Relational database systems</p>

<ul>
<li>Commercial <br>
<ul><li>DB2 (IBM)</li>
<li>Oracle DB (Oracle)</li>
<li>SQL Server / Access (Microsoft)</li>
<li>SQL Anywhere / Adaptive Server (Sybase)</li>
<li>SAP MaxDB (SAP)</li></ul></li>
<li>Open-source <br>
<ul><li>MySQL (Oracle)</li>
<li>Ingres (Actian)</li>
<li>PostgreSQL</li>
<li>MariaDB</li></ul></li>
</ul>

<p>Features of a DBMS</p>

<ul>
<li>Consistent data storage / integrity</li>
<li>Multi-user access</li>
<li>Backup</li>
<li>High-availability</li>
<li>Consistency</li>
<li>Isolation</li>
<li>Access permission control</li>
<li>Authentication</li>
</ul>



<h2 id="database-design">Database Design</h2>



<h3 id="conceptual-design">Conceptual Design</h3>

<p>ACID properties</p>

<ul>
<li>Atomicity <br>
<ul><li>A transaction is either executed completely, or not at all</li></ul></li>
<li>Consistency <br>
<ul><li>Integrity constraints are not violated</li></ul></li>
<li>Isolation <br>
<ul><li>Separate systems are running as though they were the only instance</li></ul></li>
<li>Durability <br>
<ul><li>The results are persistent</li></ul></li>
</ul>

<p>CAP</p>

<ul>
<li>Consistency <br>
<ul><li>All systems have the same state of data</li></ul></li>
<li>Availability <br>
<ul><li>Queries against the systems are always answered</li></ul></li>
<li>Partition tolerance <br>
<ul><li>The system continues, even if parts are unavailable</li></ul></li>
</ul>

<p>Theory says that a system might fulfill at most two of them</p>

<ul>
<li>A and P <br>
<ul><li>DNS system</li>
<li>Most web services</li></ul></li>
<li>C and A <br>
<ul><li>Enterprise DB systems</li>
<li>Classical DB systems</li></ul></li>
<li>C and P <br>
<ul><li>ATMs</li>
<li>Blockchain</li></ul></li>
</ul>

<p>Requirement engineering (Lots of interviews with the customer)</p>

<p>Procedure</p>

<ul>
<li>Reality</li>
<li>Identification of subdomain</li>
<li>Conceptual data model</li>
<li>Logical data model</li>
<li>Physical data model</li>
</ul>

<p><em>Skip, skip</em></p>



<h3 id="logical-design">Logical Design</h3>

<p>Requirements</p>

<ul>
<li>Customer Requirements</li>
<li>Written Documentation of the requirements</li>
<li>Graphical representation</li>
<li>Database <br>
<ul><li>Weak entities</li>
<li>Not needed for business process</li>
<li>Is just an implementation artifact</li>
<li>Structured Attributes (Attributes that consist of multiple other (atomic) attributes)</li>
<li>Redundancy -&gt; Normal forms</li>
<li>Relationships are expressed with a verb</li>
<li>The relation itself may be an entity</li>
<li>BPMN - Business Process Modeling Notation</li></ul></li>
</ul>



<h3 id="physical-design">Physical Design</h3>

<p>Normal forms</p>



<h4 id="keys">Keys</h4>



<h5 id="primary-key">Primary Key</h5>

<p>Primary key - Unique identifier of the given element e.g. the ID of a user <br>
Surrogate primary key - A primary key consisting of multiple attributes (e.g. first name and last name)</p>



<h5 id="foreign-key">Foreign key</h5>

<p>The primary keys of other tables, used in relations</p>



<h4 id="attributes">Attributes</h4>



<h5 id="complex-attributes">Complex attributes</h5>

<p>These attributes can be broken down to different sub-attributes (e.g. Name of a person -&gt; First name, Last name)</p>



<h5 id="atomic-attributes">Atomic attributes</h5>

<p>These attributes can not be logically split any further (e.g. First name of a person)</p>



<h5 id="null">NULL</h5>

<p>The value <code>NULL</code> is used when the value of the attribute is not known. It can only be used if the attribute is <strong>optional</strong>, that is it is not <strong>mandatory</strong> to fill in the field. It represents <em>no data</em> for the entity, and is thus different from the empty string <code>""</code> and <code>0</code>.</p>



<h4 id="referential-integrity">Referential integrity</h4>

<p>Entities on both sides of the relation must exist according to the rules of the database design</p>



<h4 id="relationships">Relationships</h4>

<ul>
<li>[1..1] <br>
<ul><li>Simple</li>
<li>The one entity should have a foreign key to another</li></ul></li>
<li>[1..n] <br>
<ul><li>The attribute that there are many of includes the a foreign key for the other attribute</li></ul></li>
<li>[n..m] <br>
<ul><li>There is an associative table, additional attributes can also be added</li></ul></li>
<li>Recursive relationship <br>
<ul><li>The entity has a field for another foreign key to the primary key of its own table.</li></ul></li>
<li>Dependency relationship <br>
<ul><li>A depends on B</li>
<li>Primary Key, Foreign key concept (incomplete)</li>
<li>Associative table -&gt; complete</li></ul></li>
</ul>



<h3 id="normal-forms">Normal Forms</h3>



<h4 id="1-normal-form">1. Normal form</h4>

<p>Attributes must be atomic</p>



<h4 id="2-normal-form">2. Normal form</h4>

<p>Attributes must be <em>functionally dependent</em> from the primary key</p>



<h4 id="3-normal-form">3. Normal form</h4>

<p>Attributes must be <em>directly</em> dependent on the primary key</p>



<h4 id="boyce-codd-normal-form">Boyce-Codd Normal form</h4>

<p>There must not be any <em>functional dependency</em> between different attributes</p>



<h3 id="parts-of-a-database-package">Parts of a database package</h3>

<ul>
<li>DB Engine</li>
<li>DB Design (eg. MySQL Workbench)</li>
<li>CLI (eg. mysql)</li>
<li>Programming Interface / Connectivity (eg. JDBC)</li>
<li>Maintaining / Administration (eg. phpMyAdmin)</li>
<li>Development tools (eg. Eclipse, PHP, Python, Notepad++, APEX, PowerBuilder)</li>
</ul>



<h2 id="database-programming">Database Programming</h2>



<h3 id="sql">SQL</h3>

<ul>
<li>Standardization: ISO 9075:yyyy</li>
<li>Standard not completely observed by DB vendors</li>
</ul>



<h3 id="extended-backus-naur-from">Extended Backus-Naur-From</h3>

<ul>
<li>Originally developped by Nikolaus Wirth <br>
<ul><li>Definition language</li>
<li>Standardized</li></ul></li>
<li>EBNF</li>
</ul>



<h4 id="data-definition">Data definition</h4>



<h5 id="schema-management">Schema management</h5>

<p>Create <br>
<code>CREATE SCHEMA &lt;Schema-Name&gt;</code> <br>
Delete <br>
<code>DROP SCHEMA &lt;Schema-Name&gt; [CASCADE | RESTRICT]</code></p>



<h5 id="tables">Tables</h5>

<p>Create</p>



<pre class="prettyprint"><code class=" hljs sql"><span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> [<span class="hljs-keyword">Schema</span>-name.]&lt;<span class="hljs-keyword">Table</span>-Name&gt;
(
&lt;Attribute-Defintion&gt;,
[&lt;<span class="hljs-keyword">Table</span>-Integrity-<span class="hljs-keyword">Constraints</span>&gt;]
)</span></code></pre>

<p>Attribute definition <br>
<code>&lt;Attribute-Definition&gt; ::= &lt;Attribute-Name&gt; TYPE &lt;Type-Definition&gt;</code></p>



<h5 id="data-types">Data types</h5>

<ul>
<li>INT</li>
<li>SMALLINT</li>
<li>BIGINT</li>
<li>DEC/NUM (p [,q]) - Fractional number (p digits, out of which q are fractional digits)</li>
<li>FLOAT</li>
<li>REAL (DOUBLE)</li>
<li>CHAR(n) - Character string of length N</li>
<li>VARCHAR(n) - <em>Variable-length</em> CHAR</li>
<li>NVARCHAR(n) - NVARCHAR with <em>Unicode</em></li>
<li>CLOB - Character Large Object, stores long texts</li>
<li>BLOB - Binary Large Object, stores large binary data (eg. Images)</li>
<li>BOOLEAN</li>
<li>DATE</li>
<li>TIME</li>
<li>TIMESTAMP</li>
</ul>



<h5 id="integrity-constraints">Integrity constraints</h5>

<ul>
<li><code>UNIQUE</code></li>
<li><code>NOT NULL</code></li>
<li><code>DEFAULT</code></li>
<li><code>CHECK (&lt;Condition&gt;)</code></li>
<li><code>PRIMARY KEY</code></li>
<li><code>REFERENCES &lt;Table-Name&gt; [&lt;Attribute-Name&gt;]</code></li>
<li><code>[ON DELETE CASCADE | SET NULL | SET DEFAULT | RESTRICT | NO ACTION]</code></li>
</ul>



<h5 id="foreign-keys-and-referential-integrity">Foreign keys and referential integrity</h5>

<ul>
<li>A foreign key in one table <em>always</em> points to a foreign key in another table</li>
</ul>



<h5 id="modification-of-tables">Modification of tables</h5>

<p><code>ALTER TABLE [&lt;Schema-Name&gt;.]&lt;Table-Name&gt; DROP [COLUMN] &lt;Attribute-Name&gt; [CASCADE | RESTRICT]</code></p>



<h5 id="views-and-indexes">Views and Indexes</h5>

<p>Saved select statement <br>
<code>CREATE VIEW &lt;View-Name&gt; [&lt;List-Of-Options&gt;] &lt;Select-Statement&gt;</code></p>



<h5 id="table-constraints">Table constraints</h5>

<p><code>CREATE TABLE &lt;Table-Name&gt; (&lt;field&gt; SMALL INT PRIMARY KEY CHECK(&lt;field&gt; between 0 and 100))</code></p>



<h5 id="foreign-keys">Foreign keys</h5>

<p><code>CREATE TABLE &lt;Table-Name&gt; (ID INT PRIMARY KEY, &lt;field&gt; INT REFERENCES &lt;Other-Table&gt;(&lt;field&gt;))</code></p>



<h5 id="complex-primary-keys">Complex Primary Keys</h5>

<p><code>CREATE TABLE &lt;Table-Name&gt; (customer_number INT, company_code INT, PRIMARY KEY(customer_number, company_code))</code></p>



<h4 id="indexes">Indexes</h4>

<p><code>CREATE [Unique] INDEX &lt;Name&gt; ON &lt;Table&gt; (&lt;Attribute-Name&gt; [ASC-DESC])</code></p>



<h4 id="joining-tables">Joining tables</h4>

<p><code>SELECT &lt;Table1&gt;.&lt;field&gt; &lt;Table2&gt;.&lt;field&gt; FROM &lt;Table1&gt; INNER JOIN &lt;Table2&gt;</code></p>



<h3 id="administration">Administration</h3>



<h3 id="data-structures">Data Structures</h3>



<h3 id="performance-tuning">Performance Tuning</h3></div></body>
</html>